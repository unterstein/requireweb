@(id: Long = -1L)(implicit request: play.api.mvc.Request[Any], lang: Lang)

@import global.Global

@import neo4j.services.Neo4JServiceProvider
@import neo4j.models.require.Requirement
@import scala.collection.JavaConversions._

@scripts = {
  <script type="text/javascript" src='@routes.Assets.at("javascripts/requirement.js")'></script>
}

@mainPage(Html(Messages("require.list.title")), scripts = scripts, fluid = true) {
  <div class="row mainRow">
    <div class="col-md-3">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title">@Messages("require.side.title")</h3>
        </div>
        <div class="panel-body">
          <ul class="nav nav-pills nav-stacked">
            @Neo4JServiceProvider.get().projectRepository.findByAuthorOrderByIdAsc(PlaySession.getUser).map { project =>
              <li @if(project.id == id) {class="active"}>
                @project.name
              </li>
            }
            <li>
              <a id="newProject" href="#"><i class="fa fa-plus"></i> @Messages("require.project.new")</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-md-9">
      md9
    </div>
  </div>

  <!-- new project dialog -->
  <div class="modal fade" id="newModal">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title">@Messages("require.project.new")</h4>
        </div>
        <div class="modal-body">
          <form>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="newProjectName" class="control-label">@Messages("name")</label>
                  <input type="text" class="form-control" id="newProjectName" name="newProjectName" placeholder="@Messages("field.name.placeholder")" />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label for="newProjectDescription" class="control-label">@Messages("field.description")</label>
                  <textarea class="form-control" name="newProjectDescription" id="newProjectDescription"></textarea>
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">@Messages("close")</button>
          <button type="button" class="btn btn-primary" id="newProjectAdd">@Messages("create")</button>
        </div>
      </div>
    </div>
  </div>
}
